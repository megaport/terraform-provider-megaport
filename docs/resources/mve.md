---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "megaport_mve Resource - terraform-provider-megaport"
subcategory: ""
description: |-
  Megaport Virtual Edge (MVE) Resource for Megaport Terraform provider. This resource allows you to create, modify, and delete Megaport MVEs. Megaport Virtual Edge (MVE) is an on-demand, vendor-neutral Network Function Virtualization (NFV) platform that provides virtual infrastructure for network services at the edge of Megaport’s global software-defined network (SDN). Network technologies such as SD-WAN and NGFW are hosted directly on Megaport’s global network via Megaport Virtual Edge.
---

# megaport_mve (Resource)

Megaport Virtual Edge (MVE) Resource for Megaport Terraform provider. This resource allows you to create, modify, and delete Megaport MVEs. Megaport Virtual Edge (MVE) is an on-demand, vendor-neutral Network Function Virtualization (NFV) platform that provides virtual infrastructure for network services at the edge of Megaport’s global software-defined network (SDN). Network technologies such as SD-WAN and NGFW are hosted directly on Megaport’s global network via Megaport Virtual Edge.

## Example Usage

```terraform
data "megaport_mve_images" "aruba" {
  vendor_filter = "Aruba"
  id_filter     = 23
}

resource "megaport_mve" "mve" {
  product_name         = "Megaport MVE Example"
  location_id          = 6
  contract_term_months = 1

  vnics = [
    {
      description = "Data Plane"
    },
    {
      description = "Control Plane"
    },
    {
      description = "Management Plane"
    }
  ]

  vendor_config = {
    vendor       = "aruba"
    product_size = "MEDIUM"
    image_id     = data.megaport_mve_images.aruba.mve_images.0.id
    account_name = "Aruba Test Account"
    account_key  = "12345678"
    system_tag   = "Preconfiguration-aruba-test-1"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `contract_term_months` (Number) The term of the contract in months: valid values are 1, 12, 24, and 36. To set the product to a month-to-month contract with no minimum term, set the value to 1.
- `location_id` (Number) The numeric location ID of the product. This value can be retrieved from the data source megaport_location.
- `product_name` (String) The name of the MVE.
- `vendor_config` (Attributes) The vendor configuration of the MVE. Vendor-specific information required to bootstrap the MVE. These values will be different for each vendor, and can include vendor name, size of VM, license/activation code, software version, and SSH keys. This field cannot be changed after the MVE is created and if it is modified, the MVE will be deleted and re-created. Imported MVEs do not have this field populated by the API, so the initially provided configuration will be ignored as it can't be verified to be correct. If the user wants to change the configuration after importing the resource, they can then do so by changing the field after importing the resource and running terraform apply. (see [below for nested schema](#nestedatt--vendor_config))

### Optional

- `cost_centre` (String) The cost centre of the MVE.
- `diversity_zone` (String) The diversity zone of the MVE.
- `promo_code` (String) Promo code is an optional string that can be used to enter a promotional code for the service order. The code is not validated, so if the code doesn't exist or doesn't work for the service, the request will still be successful.
- `resource_tags` (Map of String) The resource tags associated with the product.
- `vnics` (Attributes List) The network interfaces of the MVE. The number of elements in the array is the number of vNICs the user wants to provision. Description can be null. The maximum number of vNICs allowed is 5. If the array is not supplied (i.e. null), it will default to the minimum number of vNICs for the supplier - 2 for Palo Alto and 1 for the others. (see [below for nested schema](#nestedatt--vnics))

### Read-Only

- `admin_locked` (Boolean) Whether the MVE is admin locked.
- `attribute_tags` (Map of String) The attribute tags of the MVE.
- `buyout_port` (Boolean) Whether the port is buyout.
- `cancelable` (Boolean) Whether the MVE is cancelable.
- `company_name` (String) The company name of the MVE.
- `company_uid` (String) The company UID of the MVE.
- `contract_end_date` (String) The contract end date of the MVE.
- `contract_start_date` (String) The contract start date of the MVE.
- `create_date` (String) The date the MVE was created.
- `created_by` (String) The user who created the MVE.
- `last_updated` (String) The last time the MVE was updated by the Terraform Provider.
- `live_date` (String) The date the MVE went live.
- `locked` (Boolean) Whether the MVE is locked.
- `market` (String) The market the MVE is in.
- `marketplace_visibility` (Boolean) Whether the MVE is visible in the marketplace.
- `mve_size` (String) The size of the MVE.
- `product_id` (Number) The Numeric ID of the MVE.
- `product_type` (String) The type of product (MVE).
- `product_uid` (String) The unique identifier of the MVE.
- `provisioning_status` (String) The provisioning status of the MVE.
- `secondary_name` (String) The secondary name of the MVE.
- `terminate_date` (String) The date the MVE will be terminated.
- `usage_algorithm` (String) The usage algorithm of the MVE.
- `vendor` (String) The vendor of the MVE.
- `virtual` (Boolean) Whether the MVE is virtual.
- `vxc_auto_approval` (Boolean) Whether VXC is auto approved.
- `vxc_permitted` (Boolean) Whether VXC is permitted.

<a id="nestedatt--vendor_config"></a>
### Nested Schema for `vendor_config`

Required:

- `image_id` (Number) The image ID of the MVE. Indicates the software version.
- `product_size` (String) The product size for the vendor config. The size defines the MVE specifications including number of cores, bandwidth, and number of connections.
- `vendor` (String) The name of vendor of the MVE. Currently supported values: "6wind", "aruba", "aviatrix", "cisco", "fortinet", "palo_alto", "prisma", "versa", "vmware", "meraki".

Optional:

- `account_key` (String) The account key for the vendor config. Enter the Account Key from Aruba Orchestrator. The key is linked to the Account Name. Required for Aruba MVE.
- `account_name` (String) The account name for the vendor config. Enter the Account Name from Aruba Orchestrator. To view your Account Name, log in to Orchestrator and choose Orchestrator > Licensing | Cloud Portal. Required for Aruba MVE.
- `admin_password_hash` (String) The admin password hash for the vendor config. Required for Palo Alto MVE.
- `admin_ssh_public_key` (String) The admin SSH public key for the vendor config. Required for Cisco, Fortinet, and Vmware MVEs.
- `cloud_init` (String) The cloud init for the vendor config. The bootstrap configuration file. Required for Aviatrix and Cisco C8000v.
- `controller_address` (String) The controldler address for the vendor config. A FQDN (Fully Qualified Domain Name) or IPv4 address of your Versa Controller. Required for Versa MVE.
- `director_address` (String) The director address for the vendor config. A FQDN (Fully Qualified Domain Name) or IPv4 address of your Versa Director. Required for Versa MVE.
- `fmc_ip_address` (String) The FMC IP address for the vendor config. Required for Cisco FTDv (Firewall) MVE.
- `fmc_nat_id` (String) The FMC NAT ID for the vendor config. Required for Cisco FTDv (Firewall) MVE.
- `fmc_registration_key` (String) The FMC registration key for the vendor config. Required for Cisco FTDv (Firewall) MVE.
- `ion_key` (String) The vION key for the vendor config. Required for Prisma MVE.
- `license_data` (String) The license data for the vendor config. Required for Fortinet and Palo Alto MVEs.
- `local_auth` (String) The local auth for the vendor config. Enter the Local Auth string as configured in your Versa Director. Required for Versa MVE.
- `manage_locally` (Boolean) Whether to manage the MVE locally. Required for Cisco MVE.
- `mve_label` (String) The MVE label for the vendor config.
- `remote_auth` (String) The remote auth for the vendor config. Enter the Remote Auth string as configured in your Versa Director. Required for Versa MVE.
- `secret_key` (String) The secret key for the vendor config. Required for Prisma MVE.
- `serial_number` (String) The serial number for the vendor config. Enter the serial number that you specified when creating the device in Versa Director. Required for Versa MVE.
- `ssh_public_key` (String) The SSH public key for the vendor config. Required for 6WIND, VMWare, Palo Alto, and Fortinet MVEs. Megaport supports the 2048-bit RSA key type.
- `system_tag` (String) The system tag for the vendor config. Aruba Orchestrator System Tags and preconfiguration templates register the EC-V with the Cloud Portal and Orchestrator, and enable Orchestrator to automatically accept and configure newly discovered EC-V appliances. If you created a preconfiguration template in Orchestrator, enter the System Tag you specified here. Required for Aruba MVE.
- `token` (String) The token for the vendor config. Required for Meraki MVE.
- `vco_activation_code` (String) The VCO activation code for the vendor config. This is provided by Orchestrator after creating the edge device. Required for VMware MVE.
- `vco_address` (String) The VCO address for the vendor config. A FQDN (Fully Qualified Domain Name) or IPv4 or IPv6 address for the Orchestrator where you created the edge device. Required for VMware MVE.


<a id="nestedatt--vnics"></a>
### Nested Schema for `vnics`

Required:

- `description` (String) The description of the network interface.

## Import

Import is supported using the following syntax:

```shell
# Order can be imported by specifying the Product UID.
terraform import megaport_mve.example "<PRODUCT_UID>"
```
